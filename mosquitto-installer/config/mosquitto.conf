# Mosquitto MQTT Broker Configuration
# Circa RFID Solution - Standalone Installation
# Location: C:\Program Files\Circa\Mosquitto\conf\mosquitto.conf

# =============================================================================
# LISTENER CONFIGURATION
# =============================================================================

# Listen on all network interfaces, port 1883
listener 1883 0.0.0.0

# Allow connections without authentication (local network)
allow_anonymous true

# =============================================================================
# PERSISTENCE CONFIGURATION
# =============================================================================

# Enable message persistence for QoS 1/2 messages
persistence true

# Location for persistence database
persistence_location C:/Program Files/Circa/Mosquitto/data/

# Persistence file name
persistence_file mosquitto.db

# Autosave interval (seconds)
autosave_interval 300

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log to file
log_dest file C:/Program Files/Circa/Mosquitto/logs/mosquitto.log

# Log types to record
log_type error
log_type warning
log_type notice
log_type information

# Include timestamps in log
log_timestamp true

# Connection logging
connection_messages true

# =============================================================================
# PROTOCOL CONFIGURATION
# =============================================================================

# Maximum packet size (1MB)
max_packet_size 1048576

# Message size limit
message_size_limit 1048576

# Maximum inflight messages for QoS 1/2
max_inflight_messages 20

# Maximum queued messages per client
max_queued_messages 1000

# =============================================================================
# CLIENT CONFIGURATION
# =============================================================================

# Maximum number of client connections (0 = unlimited)
max_connections 100

# Allow zero-length client IDs
allow_zero_length_clientid true

# =============================================================================
# SECURITY (Optional - uncomment to enable)
# =============================================================================

# password_file C:/Program Files/Circa/Mosquitto/conf/mosquitto_passwd
# acl_file C:/Program Files/Circa/Mosquitto/conf/mosquitto_acl

# =============================================================================
# WEBSOCKET SUPPORT (Optional)
# =============================================================================

# listener 9001
# protocol websockets

